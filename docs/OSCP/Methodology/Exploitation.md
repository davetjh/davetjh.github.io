# Searching for exploits
Start with `searchsploit`
```shell
searchsploit <keywords>
```
Once exploit is determined, download it to current folder using 
```shell
searchsploit -m <exploit number>
```

If unable to find on searchsploit, use google, eg: \<potential vuln service> exploit github

# Service hash capturing
Use use responder
```shell
sudo responder -I tun0
```

Types supported
```shell
[+] Servers:
    HTTP server                [ON]
    HTTPS server               [ON]
    WPAD proxy                 [OFF]
    Auth proxy                 [OFF]
    SMB server                 [ON]
    Kerberos server            [ON]
    SQL server                 [ON]
    FTP server                 [ON]
    IMAP server                [ON]
    POP3 server                [ON]
    SMTP server                [ON]
    DNS server                 [ON]
    LDAP server                [ON]
    MQTT server                [ON]
    RDP server                 [ON]
    DCE-RPC server             [ON]
    WinRM server               [ON]
    SNMP server                [OFF]
```
Use service to send traffic to kali host. Eg, victim has functionality in the browser send out traffic, probably through SMB

# WebDav
Upon discovering "http-webdav-scan" results from initial nmap scan providing results, such as:
```shell
80/tcp   open  http          Microsoft IIS httpd 10.0

...

|_http-title: IIS Windows Server
| http-webdav-scan: 
|   Allowed Methods: OPTIONS, TRACE, GET, HEAD, POST, COPY, PROPFIND, DELETE, MOVE, PROPPATCH, MKCOL, LOCK, UNLOCK
```
Try using the cadaver tool (functions similar to ftp). Can use to upload webshell, for example.
Reference: https://book.hacktricks.xyz/network-services-pentesting/pentesting-web/put-method-webdav

# Python3 TTY shell
After initial access, use this command to elevate the shell to a TTY shell for more functionality
```shell
python3 -c 'import pty; pty.spawn("/bin/bash")'
```

# FTP
Sometimes, after getting ftp access (eg through `admin:admin` or `anonymous:anonoymous`), we face an issue when trying to use the `ls` command to list files
```shell
ftp> ls
229 Entering Extended Passive Mode (|||12600|)
```
The shell will be indefinitely stuck at the `Entering Extended Passive Mode` error.

**Solution**: Type in `passive` before using the `ls` command
```shell
└─$ ftp 192.168.156.56
Connected to 192.168.156.56.
220 (vsFTPd 3.0.3)
Name (192.168.156.56:kali): admin
331 Please specify the password.
Password: 
230 Login successful.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp> passive
Passive mode: off; fallback to active mode: off.
ftp> ls
200 EPRT command successful. Consider using EPSV.
150 Here comes the directory listing.
drwxr-xr-x    2 1001     0            4096 May 26  2020 contac
drwxr-xr-x    2 1001     0            4096 May 26  2020 css
drwxr-xr-x    3 1001     0            4096 May 26  2020 img
-rw-r--r--    1 1001     0           23364 May 27  2020 index.
drwxr-xr-x    2 1001     0            4096 May 26  2020 js
drwxr-xr-x   11 1001     0            4096 May 26  2020 lib
```
